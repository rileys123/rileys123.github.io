<!DOCTYPE html>
<html>
<head>
  {% include head.html %}
  <title>{{ page.title }} | {{ site.title }}</title>
</head>
<body>

  {% unless page.hide_desk %}  <!-- Only show desk if hide_desk isn't true -->
    <div class="desk-container">
      <img src="{{ '/assets/art/desk1.jpg' | relative_url }}" class="desk-bg" alt="Illustrated desk">
      
      <a href="{{ '/projects/' | relative_url }}" class="desk-item laptop">
        <img src="{{ '/assets/art/laptop.png' | relative_url }}" alt="Coding Projects" style="width: 160px;">
      </a>
      
      <a href="{{ '/apparel/' | relative_url }}" class="desk-item tshirt">
        <img src="{{ '/assets/art/shirt.png' | relative_url }}" alt="Artwork" style="width: 260px;">
      </a>
      
      <a href="{{ '/artwork/' | relative_url }}" class="desk-item sketchbook">
        <img src="{{ '/assets/art/sketchbook.png' | relative_url }}" alt="About Me" style="width: 140px;">
      </a>
    </div>
  {% else %}
    <!-- Add navigation when desk is hidden -->
    <header class="simple-header">
      {% include navigation.html %}
    </header>
  {% endunless %}

  <main class="{% if page.hide_desk %}no-desk{% else %}home-main-content{% endif %}">
    {{ content }}
  </main>

  <footer>
    {% for link in site.external %}
      <a href="{{ link.url }}"><i class="fab fa-{{ link.icon }}"></i></a>
    {% endfor %}
  </footer>
  
  <script>
// In your carousel.js file or before </body>
document.addEventListener('DOMContentLoaded', function() {
  const track = document.querySelector('.carousel-track');
  const slides = document.querySelectorAll('.carousel-slide');
  const prevBtn = document.querySelector('.carousel-nav button:first-child');
  const nextBtn = document.querySelector('.carousel-nav button:last-child');
  
  let currentPosition = 0;
  const slideWidth = slides[0].offsetWidth + 30; // Include gap

  function updateCarousel() {
    track.style.transform = `translateX(-${currentPosition}px)`;
  }

  nextBtn.addEventListener('click', () => {
    currentPosition += slideWidth;
    if (currentPosition > (slides.length - 1) * slideWidth) {
      currentPosition = 0;
    }
    updateCarousel();
  });

  prevBtn.addEventListener('click', () => {
    currentPosition -= slideWidth;
    if (currentPosition < 0) {
      currentPosition = (slides.length - 1) * slideWidth;
    }
    updateCarousel();
  });

  // Optional: Auto-scroll
  let autoScroll = setInterval(() => {
    currentPosition += slideWidth;
    if (currentPosition > (slides.length - 1) * slideWidth) {
      currentPosition = 0;
    }
    updateCarousel();
  }, 3000);

  document.querySelector('.carousel-container').addEventListener('mouseenter', () => {
    clearInterval(autoScroll);
  });

  document.querySelector('.carousel-container').addEventListener('mouseleave', () => {
    autoScroll = setInterval(() => {
      currentPosition += slideWidth;
      if (currentPosition > (slides.length - 1) * slideWidth) {
        currentPosition = 0;
      }
      updateCarousel();
    }, 3000);
  });
});
  </script>
</body>
</html>
